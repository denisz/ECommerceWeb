import AbstractQuery from './AbstractQuery';

const clone = (target) => {
  const json = JSON.stringify(target);
  return JSON.parse(json);
};

export default class QueryStatic extends AbstractQuery {
  constructor(data, useClone = true) {
    super();
    this.useClone = useClone;
    this.data = data;
  }

  async find() {
    if (this.useClone)  return clone(this.data);
    return this.data;
  }

  count() {
    if (Array.isArray(this.data)) {
      return this.data.length;
    }

    return 0;
  }
}

