import { Wait } from 'modules/Lock/index';
import AbstractQuery from './AbstractQuery';

const clone = (target) => {
  const json = JSON.stringify(target);
  return JSON.parse(json);
};

export default class QueryTest extends AbstractQuery {
  constructor(mock) {
    super();
    this.mock = mock;
  }

  async find() {
    await Wait.seconds(2);
    return clone(this.mock);
  }

  count() {
    if (Array.isArray(this.mock)) {
      return this.mock.length;
    }

    return 0;
  }
}

