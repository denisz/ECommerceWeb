import React from 'react';
import cx from 'classnames';
import history from 'core/history';
import { times } from 'underscore';
import './PaginationHistoryView.css';

export default ({ query, className, createLink = ()=>{}, minPage = 1 }) => (
  <div className={cx('PaginationHistoryView', className)}>
    {
      query.countPage() <= minPage
        ? <div />
        : times(query.countPage(), (i)=><div
        key={i}
        onClick={() => history.push(createLink(i))}
        className={cx('PaginationHistoryView-link',{
          'PaginationHistoryView-link-active': query.currentPage() === i,
        })}
      >{i + 1}</div>)
    }
  </div>
);
