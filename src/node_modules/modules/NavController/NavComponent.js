import React, { Component } from 'react';
import PropTypes from 'prop-types';
import NavAdapter from './NavAdapter';

export default class NavComponent extends Component {
  getChildContext() {
    return {
      adapter: this.props.adapter,
    };
  }

  render() {
    const { adapter: { form, onRef }, ...rest } = this.props;

    if (form) {
      return React.createElement(form, { ...rest, onRef });
    }

    return <div />;
  }
}

NavComponent.propTypes = {
  adapter: PropTypes.instanceOf(NavAdapter).isRequired,
};

NavComponent.childContextTypes = {
  adapter: PropTypes.instanceOf(NavAdapter).isRequired,
};

