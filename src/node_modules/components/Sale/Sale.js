import React from 'react';
import Currency from 'components/Currency';
import cx from 'classnames';
import './Sale.css';

const Percentage = ({ amount, className }) => (
  <div className={cx('Sale-percentage', className, {
    'five': amount === 5,
    'ten': amount === 10,
    'fifteen': amount === 15,
  })}>
    {`-${amount}%`}
  </div>
);

const FixedAmount = ({ amount, className }) => (
  <div className={cx('Sale-fixedAmount', className)}>
    -<Currency value={amount}/>
  </div>
);

const FreeShipping = ({ className }) => (
  <div className={cx('Sale-freeShipping', className)}>
    Бесплатная доставка
  </div>
);

/**
  DiscountTypePercentage DiscountType  = 0
  DiscountTypeFixedAmount DiscountType = 1
  DiscountTypeFreeShipping DiscountType = 2
 * @param type
 * @param amount
 * @param className
 * @returns {XML}
 */
export default ({ type, amount, className, disabled }) => {
  switch(type) {
    case 0: return <Percentage amount={amount} className={cx(className, {
      'Sale--disabled': disabled
    })} />;
    case 1: return <FixedAmount amount={amount} className={cx(className, {
      'Sale--disabled': disabled
    })} />;
    case 2: return <FreeShipping className={cx(className, {
      'Sale--disabled': disabled
    })} />;
    default: return <div />
  }
}
