import React from 'react';
import cx from 'classnames';
import Link from 'components/Link';
import Date from 'components/Date';
import {Price} from 'components/Currency';
import SourceReport from 'components/SourceReport';
import './Report.css';

export default ({className, positions, createdAt, updatedAt, source, sourceId}) => (
    <div className={cx('Report', className)}>
      <div>Время записи: <strong><Date value={updatedAt}/></strong></div>
      <div>Время отчета: <strong><Date value={createdAt}/></strong></div>
      <div>Источник отчета: <strong><SourceReport source={source} sourceId={sourceId}/></strong></div>
      <br/>

      <table className="table table-bordered Report__table">
        <thead>
        <tr>
          <th scope="col">Товар</th>
          <th scope="col">Количество</th>
          <th scope="col">Цена</th>
        </tr>
        </thead>

        <tbody>
        {
          positions.map((i, idx) => (
              <tr key={idx}>
                <td>
                  <Link
                      to={`/product/${i.productSKU}`}
                      external
                      className="Report__name">{i.productSKU}</Link>
                </td>
                  <td>
                    {i.amount}
                  </td>
                <td>
                  <Price value={i.price} className="Report__price"/>
                </td>
              </tr>
          ))
        }
        </tbody>
      </table>
    </div>
)
