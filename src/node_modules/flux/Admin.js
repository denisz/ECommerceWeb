import { Store } from 'modules/Flux';
import Actions from './AdminActions';
import XHR, { Methods } from './XHR';

export class Admin extends Store {
  constructor() {
    super();

    this.id = 'admin';
    this.listenables = Actions;
  }

  /**
   * Обновление заказа
   * @param order
   * @param body
   * @returns {Promise<void>}
   */
  async onUpdateOrder(order, body) {
    const { responseData } = await XHR(Methods.POST, {
      path: `/order/${order.id}`, body
    });
    this.setState({ updatedOrder: responseData })
  }
}

export default new Admin();
