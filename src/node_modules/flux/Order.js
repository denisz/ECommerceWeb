import { Store } from 'modules/Flux';
import Actions from './OrderActions';
import XHR, { Methods } from './XHR';

export class Order extends Store {
    constructor() {
        super();
        this.id = 'order';
        this.listenables = Actions;
    }

    /**
     * Заказ
     * @returns {Promise.<void>}
     */
    async onFetch(invoice) {
        const { responseData } = await XHR(Methods.POST, { path: `order/${invoice}` });
        this.setState(this.state, responseData);
    }
}

export default new Order();
